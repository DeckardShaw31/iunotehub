<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>IU Note Hub</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="data:,"/>
</head>
<body>
  <!-- Header -->
  <header class="app-header">
    <div class="brand">
      <div class="logo">üìö</div>
      <h1>IU Note Hub</h1>
    </div>

    <div class="search-bar glass">
      <input type="text" id="search" placeholder="üîç T√¨m ki·∫øm theo ti√™u ƒë·ªÅ ho·∫∑c m√¥n h·ªçc..." />
      <select id="year">
        <option value="">NƒÉm</option>
        <option>2025</option>
        <option>2024</option>
        <option>2023</option>
      </select>
      <select id="semester">
        <option value="">K·ª≥</option>
        <option>Spring</option>
        <option>Summer</option>
        <option>Fall</option>
      </select>
      <select id="type">
        <option value="">Lo·∫°i</option>
        <option>Note</option>
      </select>
      <button id="resetFilters" class="btn ghost">X√≥a l·ªçc</button>
    </div>

    <div class="header-actions">
      <button class="icon-btn" id="darkToggle" title="Chuy·ªÉn ch·∫ø ƒë·ªô">üåô</button>
    </div>
  </header>

  <!-- Sub-header -->
  <section class="toolbar">
    <div class="stats">
      <span id="countLabel">0 t√†i li·ªáu</span>
      <span class="dot"></span>
      <span id="lastUpdated">‚Äî</span>
    </div>
    <div class="sort">
      <label for="sortBy">S·∫Øp x·∫øp:</label>
      <select id="sortBy">
        <option value="uploadDate_desc">M·ªõi nh·∫•t</option>
        <option value="uploadDate_asc">C≈© nh·∫•t</option>
        <option value="views_desc">Xem nhi·ªÅu</option>
        <option value="title_asc">A ‚Üí Z</option>
      </select>
    </div>
  </section>

  <!-- Main grid -->
  <main id="notesContainer" class="grid"></main>

  <!-- Empty state -->
  <template id="emptyTemplate">
    <div class="empty">
      <div class="empty-emoji">üóíÔ∏è</div>
      <h3>Ch∆∞a c√≥ t√†i li·ªáu ph√π h·ª£p</h3>
      <p>H√£y thay ƒë·ªïi b·ªô l·ªçc, t√¨m ki·∫øm kh√°c, ho·∫∑c t·∫£i t√†i li·ªáu m·ªõi l√™n.</p>
    </div>
  </template>

  <!-- Floating Upload Button -->
  <button id="uploadBtn" class="fab" title="T·∫£i t√†i li·ªáu l√™n">‚¨Ü</button>

  <!-- Upload Modal -->
  <div id="uploadModal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Upload Note</h2>
        <button id="closeModal" class="icon-btn" aria-label="ƒê√≥ng">‚úñ</button>
      </div>

      <div class="modal-body">
        <div class="form-row">
          <label>Ti√™u ƒë·ªÅ</label>
          <input type="text" id="noteTitle" placeholder="VD: Calculus I - Midterm Notes" />
        </div>

        <div class="form-grid">
          <div class="form-row">
            <label>M√¥n h·ªçc</label>
            <input type="text" id="noteSubject" placeholder="VD: Calculus" />
          </div>
          <div class="form-row">
            <label>NƒÉm</label>
            <select id="noteYear">
              <option>2025</option><option>2024</option><option>2023</option>
            </select>
          </div>
          <div class="form-row">
            <label>K·ª≥</label>
            <select id="noteSemester">
              <option>Spring</option><option>Summer</option><option>Fall</option>
            </select>
          </div>
          <div class="form-row">
            <label>Lo·∫°i</label>
            <select id="noteType">
              <option>Note</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <label>File (.pdf, .jpg, .jpeg, .png, .docx)</label>
          <input type="file" id="noteFile" accept=".pdf,.jpg,.jpeg,.png,.docx" />
          <div id="fileHint" class="hint">T·ªëi ƒëa ~20MB (t√πy c·∫•u h√¨nh Storage).</div>
        </div>

        <div id="progressWrap" class="progress-wrap" hidden>
          <div id="progressBar" class="progress-bar" style="width:0%"></div>
          <span id="progressText" class="progress-text">0%</span>
        </div>
      </div>

      <div class="modal-footer">
        <button id="submitUpload" class="btn">T·∫£i l√™n</button>
        <button id="cancelUpload" class="btn ghost">H·ªßy</button>
      </div>
    </div>
  </div>

  <!-- Firebase config (Master d√°n config c·ªßa d·ª± √°n v√†o file n√†y) -->
  <script type="module" src="firebase-config.js"></script>
  <!-- App logic -->
  <script type="module" src="script.js"></script>
</body>
</html>
